

# Isopsephical riddles in the Greek Pseudo Sibylline hexameter poetry


<img src="https://github.com/markomanninen/grcriddles/blob/master/sibyl.jpg?raw=true" style="width: 35%; border: 1px solid #ddd; padding: 5px" />


## Introduction


There are dozens of alpha-numerical riddles in the Pseudo Sibylline books. Major part of them are simple, only referring to the first letter of the person, and the number of that letter. For Greeks, letters happened to have a [numerical value](https://en.wikipedia.org/wiki/Greek_numerals) also. I'm calling this letter value substitution system with a name _isopsephy_ simply because it was a name known for the Ancient Greeks. Nowadays, this literary device is maybe a bit too much mystified and known mostly by its Hebrew counterpart _gematria_. Although isopsephy was used for divination also, one should also consider it as a device used by poets and experts in different literary genres. Those people wanted to excel in the art they practiced. Isopsephy, along with the dactylic hexameter, affected to the outer structure of the text. Both were concrete devices in the toolbox of the masters of the written text and rhetorics.

The most of the riddles in Sibylline Oracles are actually too simple to be solved by computer algorithms only. There are not enough parameters for processing, thus all the words meeting simple criteria are far too many for any sensical analysis. Take for example Sibyl Book I, verses 51-60:

<blockquote><pre>
Then a great destroyer of pious men shall come, whom seven times ten shall point out clearly. 
But from him a son, whom the first letter of three hundred proves, shall take the power. 
And after him shall be a ruler, of the initial sign of four, a life-destroyer. 
Then a reverend man of the number fifty. Next, succeeding him Who has the first mark of 
the initial sign three hundred, shall a Celtic mountaineer.
</pre></blockquote>

In the footnotes of "The Sibylline Oracles" by Milton S. Terry, page 41 we find that _seven times ten_ refers to the letter omicron (O), which numerical value is 70. Ouespasianos ([Vespianus](https://en.wikipedia.org/wiki/Vespasian)) is the person refered here, because just before the verse 51 oracle talks about the three kings Galba, Otho, and Vitelius who shortly reigned in the Roman Empire in 69AD. The next emperor in Rome was the son of the former, namely Titus, which first letter T is equal to 300 in Greek numerals. Continuation of the puzzle is made clear with the next three emperors: Domitian (_initial sign of four_ meaning simply D = 4), Nerva (_reverend man of the number fifty_, N = 50), and lastly Trajan (_initial sign three hundred_, T = 300).

Similar puzzles can be found from: 

- I : 30, 388
- III : 28
- V : 18, 118, 149, 253, 274, 321, 338, 351
- VIII : 48, 88, 127, 233, 306, 321
- XII : 21, 38, 73, 122, 313

It is interesting that we can find a solution for the ealier kingdoms and emperors in the riddles, but we have somewhat lost the context on the younger riddles from 200AD to 600AD.

From the more than 800 000 words, the words starting with any of the 24 Greek letters would yield tens of thousands of hits. I don't have a categorization / morphology system for the words so that I could filter proper nouns. If there was a way to find out names from the words database, then task might be reasonable.

On the other hand, as we can see, most of these riddles conserning persons, cities, and Gods names can be taken as solved already. Context of the riddle is revealing a name behind the puzzle. It helps that the plot of each book is more or less chronologially structured. Sometimes names are already mentioned near by the riddle, like Rome in the [Riddle 3](#Riddle-3). In these samples it is obscure, why riddles were used in first hand. It is possible that texts were edited later to add more information, fulfil predictions, correct and manipulate the original ones to prove divine inspiration.

But then there are couple of other riddles very special in nature. They contain more information about letters, syllables, vowels, consonants, and the total value of the name or the title. One of them, the Riddle 1, is regarded as unsolved yet so far. [Riddle 2](#Riddle-2) is solved, but works as a good reference and check point for the first one. Riddle 3 is here for an example as a more difficult puzzle to solve programmically, nevertheless solved by contextual analysis.

I'll take these three riddles under the closer investigation in this study:

### Riddle 1


#### Sibyl Book 1 lines 137 - 146:


<blockquote><pre>
137 εἰμὶ δ᾿ ἔγωγε ὁ ὤν, σὺ δ᾿ ἐνί φρεσὶ σῇσι νόησον·
138 οὐρανὸν ἐνδέδυμαι, περιβέβλημαι δὲ θάλασσαν,
139 γαῖα δέ μοι στήριγμα ποδῶν, περὶ σῶμα κέχυται
140 ἀὴρ ἠδ᾿ ἄστρων με χορὸς περιδέδρομε πάντη.
141 ἐννέα γράμματ᾿ ἔχω· τετρασύλλαβός εἰμι· νόει με·
142 αἱ τρεῖς αἱ πρῶται δύο γράμματ᾿ ἔχουσιν ἑκάστη,
143 ἡ λοιπὴ δὲ τὰ λοιπὰ καί εἰσιν ἄφωνα τὰ πέντε·
144 τοῦ παντὸς δ᾿ ἀριθμοῦ ἑκατοντάδες εἰσὶ δὶς ὀκτώ
145 καὶ τρεῖς, τρὶς δεκάδες σύν γ᾿ ἑπτά. γνοὺς δὲ τίς εἰμι
146 οὐκ ἀμύητος ἔσῃ τῆς παρ᾿ ἐμοὶ σοφίης.</pre>
</blockquote>

Translation:

<blockquote>
And I am He who is, and in thy heart
Do thou discern. I clothe me with the heaven,
And cast the sea around me, and for me
Earth is a footstool, and the air is poured
Around my body; and on every side
Around me runs the chorus of the stars.
Nine letters have I; of four syllables
I am; discern me. The first three have each
Two letters, the remaining one the rest,
And five are mates; and of the entire sum
The hundreds are twice eight and thrice three tens
Along with seven. Now, knowing who I am,
Be thou not uninitiate in my lore.
</blockquote>

### Riddle 2


#### Sibyl Book 1 lines 324-402:


<blockquote><pre>
324 δὴ τότε καὶ μεγάλοιο θεοῦ παῖς ἀνθρώποισιν
325 ἥξει σαρκοφόρος θνητοῖς ὁμοιούμενος ἐν γῇ,
326 τέσσαρα φωνήεντα φέρων, τὸ δ᾿ ἄφωνον ἐν αὐτῷ
327 δισσόν· ἐγὼ δέ κέ τοι ἀριθμόν γ᾿ ὅλον ἐξονομήνω·
328 ὀκτὼ γὰρ μονάδας, τόσσας δεκάδας δ᾿ ἐπὶ ταύταις
329 ἠδ᾿ ἑκατοντάδας ὀκτὼ ἀπιστοκόροις ἀνθρώποις
330 οὔνομα δηλώσει· σὺ δ᾿ ἐνὶ φρεσὶ σῇσι νόησον
331 ἀθανάτοιο θεοῦ Χριστὸν παῖδ᾿ ὑψίστοιο.
</pre></blockquote>

Translation:

<blockquote>
Then also shall a child of the great God Come, 
clothed in flesh, to men, and fashioned like 
To mortals in the earth; and he doth hear Four vowels, 
and two consonants in him Are twice announced; 
the whole sum I will  name: For eight ones, and 
as many tens on these, And yet eight hundred will 
reveal the name To men insatiate; and do thou discern 
In thine own understanding that the Christ Is child of 
the immortal God most high.
</blockquote>

### Riddle 3


#### Sibyl Book 8 lines 143-150:


<blockquote><pre>
143 ὤλετο γὰρ Ῥώμης ἀρχὴ τότε τηλεθόωσα,
144 ἀρχαίη πολέεσσι περικτιόνεσσιν ἄνασσα.
145 οὐκέτι νικήσειε πέδον Ῥώμης ἐριθήλου,
146 ὁππόταν ἐξ Ἀσίης κρατέων ἔλθῃ σὺν Ἄρηι.
147 ταῦτα δὲ πάντ᾿ ἔρξας ἥξει κρηπισθὲν ἐς ἄστυ.
148 τρὶς δὲ τριηκοσίους καὶ τεσσαράκοντα καὶ ὀκτώ
149 πληρώσεις λυκάβαντας, ὅταν σοι δύσμορος ἥξῃ
150 μοῖρα βιαζομένη τεὸν οὔνομα πληρώσασα.
</pre></blockquote>

Translation:

<blockquote>
For Rome’s power perished then while in its bloom 
an ancient queen with cities dwelling round. No longer 
shall the land of fertile Rome prevail, when out of Asia 
one shall come to rule with Ares. And when he has wrought 
all these things, to the city afterwards shall he come. 
And three times three hundred and eight and forty shalt 
thou make complete, when, taking thee by force, an ill-starred 
fate shall come upon thee and complete thy name.
</blockquote>


## Using Greek Text Corpora


I have used the next notebook to prepare the Greek text corpora and unique words database for the solver: [Processing Greek corpora for the isopsehical riddle solver.ipynb](Processing Greek corpora for the isopsehical riddle solver.ipynb). You need to run it once or have unique words csv file in the same directory than this notebook if you wish to run cells interactively.

Setup of the system I'm using is:


```python
import sys
sys.version
```


    '3.5.4 | Continuum Analytics, Inc.| (default, Aug 14 2017, 13:41:13) [MSC v.1900 64 bit (AMD64)]'


Confirm unique words database is available and get the size of it:


```python
from functions import get_file_size, csv_file_name

print("Size of the unique words database: %s MB" % get_file_size(csv_file_name))
```

    Size of the unique words database: 57.14 MB
    

## Import database

Using `Pandas` library I will read and import csv file that contains all preprocessed unique greek words collected earlier. Constructed `Pandas DataFrame` is a nice data container to handle tabular data.


```python
# read unique words stats if available
try:
    from pandas import read_csv
    df = read_csv(csv_file_name, header = None)
    # convert data types for columns. 0 = word
    # 1: how many times word occurs in texts
    df[1] = df[1].apply(lambda x: int(x))
    # 2: percentage of all words
    df[2] = df[2].apply(lambda x: float(x))
    # 3: how many characters in the word
    df[3] = df[3].apply(lambda x: int(x))
    # 4: isopsephical value of the word
    df[4] = df[4].apply(lambda x: int(x))
    # 5: word split to syllables
    df[5] = df[5].apply(lambda x: str(x).replace("'", "").replace("[", "").replace("]", "").split(", "))
    # 6: how many syllables
    df[6] = df[6].apply(lambda x: int(x))
except Exception as e:
    print(e)
    print("Could not find unique words database. Please follow the procedure explained in: Processing Greek corpora for the isopsehical riddle solver.ipynb")
```

To confirm succesful import I will show the first 20 most common words:


```python
print("Total records: %s" % len(df))
# get the most repeated words by sort asc, head 20
df.sort_values(1, ascending=False).head(n=20)
```

    Total records: 826516
    




<div>

<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>

<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>38</th>
      <td>ΚΑΙ</td>
      <td>3332509</td>
      <td>45.51</td>
      <td>3</td>
      <td>31</td>
      <td>[ΚΑΙ]</td>
      <td>1</td>
    </tr>
    <tr>
      <th>25</th>
      <td>ΔΕ</td>
      <td>1355091</td>
      <td>18.51</td>
      <td>2</td>
      <td>9</td>
      <td>[ΔΕ]</td>
      <td>1</td>
    </tr>
    <tr>
      <th>309</th>
      <td>ΤΟ</td>
      <td>1297764</td>
      <td>17.72</td>
      <td>2</td>
      <td>370</td>
      <td>[ΤΟ]</td>
      <td>1</td>
    </tr>
    <tr>
      <th>46</th>
      <td>ΤΟΥ</td>
      <td>933432</td>
      <td>12.75</td>
      <td>3</td>
      <td>770</td>
      <td>[ΤΟΥ]</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ΤΩΝ</td>
      <td>918946</td>
      <td>12.55</td>
      <td>3</td>
      <td>1150</td>
      <td>[ΤΩΝ]</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>



## Solve the riddles

### Riddle 1

<blockquote>
Nine letters have I; of four syllables I am; discern me. The first three have each two letters, the remaining one the rest, and five are mates; and of the entire sum the hundreds are twice eight and thrice three tens along with seven.
</blockquote>

Using the next parameters from the riddle, lets try to solve it by the brute computational force:

- knowing the length of the word: 9
- knowing other details of the syllables of the word
- knowing the count of the consonants of the word: 5
- knowing the isopsephical value: 1697
- comparing the context of the result

#### Isopsephy and letter count filter

I will apply filters to the words database step by step narrowing the result.

So lets see first, how many words there are with the isopsephical value 1697 and letters counting nine?


```python
from functions import HTML

# make a copy of the database to keep original safe
a = df.copy()
# filter by isopsephical value
a = a[a[4] == 1697]
# filter by word length
a = a[a[3] == 9]

print("Total records: %s" % len(a))
HTML(a.to_html(index=False))
```

    Total records: 15
    




<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ΑΜΦΕΚΑΛΥΨ</td>
      <td>1</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΑΜ, ΦΕ, ΚΑ, ΛΥΨ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΑΛΕΙΦΑΤΩΝ</td>
      <td>2</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[Α, ΛΕΙ, ΦΑ, ΤΩΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΒΕΛΤΙΣΤΩΝ</td>
      <td>66</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΒΕΛ, ΤΙ, ΣΤΩΝ]</td>
      <td>3</td>
    </tr>
    <tr>
      <td>ΑΦΕΛΩΝΤΑΙ</td>
      <td>20</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[Α, ΦΕ, ΛΩΝ, ΤΑΙ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΠΑΡΑΧΩΡΕΙ</td>
      <td>130</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΠΑ, ΡΑ, ΧΩ, ΡΕΙ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΚΥΒΕΥΣΟΥΣ</td>
      <td>1</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΚΥ, ΒΕΥ, ΣΟΥΣ]</td>
      <td>3</td>
    </tr>
    <tr>
      <td>ΛΙΒΥΣΣΕΩΝ</td>
      <td>2</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΛΙ, ΒΥΣ, ΣΕ, ΩΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΙΣΤΟΡΗΣΘΩ</td>
      <td>9</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[Ι, ΣΤΟ, ΡΗ, ΣΘΩ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΣΥΝΩΚΙΣΘΗ</td>
      <td>19</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΣΥ, ΝΩ, ΚΙ, ΣΘΗ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΠΛΗΡΟΥΣΘΩ</td>
      <td>7</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΠΛΗ, ΡΟΥ, ΣΘΩ]</td>
      <td>3</td>
    </tr>
    <tr>
      <td>ΕΚΑΑΤΟΣΤΩ</td>
      <td>3</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[Ε, ΚΑ, Α, ΤΟ, ΣΤΩ]</td>
      <td>5</td>
    </tr>
    <tr>
      <td>ΛΗΛΥΘΟΤΩΝ</td>
      <td>3</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΛΗ, ΛΥ, ΘΟ, ΤΩΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΑΝΑΝΨΩΜΕΝ</td>
      <td>4</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[Α, ΝΑΝ, ΨΩ, ΜΕΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΑΛΕΦΩΝΤΑΙ</td>
      <td>2</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[Α, ΛΕ, ΦΩΝ, ΤΑΙ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΣΤΕΝΩΜΑΤΑ</td>
      <td>8</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΣΤΕ, ΝΩ, ΜΑ, ΤΑ]</td>
      <td>4</td>
    </tr>
  </tbody>
</table>



It turns out that there are just very few words meeting the criteria of the riddle. I could already make the analysis of the words manually. But to make everything reusable for later usage, I will set up filter procedure for other criteria too.

Before that, I will however add one extension to the original search and allow the count of the letters to be between 8 and 10. That is due to double consonant and long / short vowelspecialty of the Greek language. Let's see the result of this filter variation:


```python
b = df.copy()
b = b[b[4] == 1697]
b = b[b[6] == 4]
b = b[b[3] > 7]
b = b[b[3] < 11]

print("Total records: %s" % len(b))
HTML(b.sort_values(3, ascending=False).to_html(index=False))
```

    Total records: 31
    




<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ΚΑΤΑΣΧΕΤΟΣ</td>
      <td>17</td>
      <td>0.0</td>
      <td>10</td>
      <td>1697</td>
      <td>[ΚΑ, ΤΑ, ΣΧΕ, ΤΟΣ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΝΕΒΡΟΦΟΝΩΝ</td>
      <td>1</td>
      <td>0.0</td>
      <td>10</td>
      <td>1697</td>
      <td>[ΝΕ, ΒΡΟ, ΦΟ, ΝΩΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΑΝΕΣΤΛΩΤΑΙ</td>
      <td>3</td>
      <td>0.0</td>
      <td>10</td>
      <td>1697</td>
      <td>[Α, ΝΕΣΤ, ΛΩ, ΤΑΙ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΕΜΦΥΣΣΑΝΤΑ</td>
      <td>9</td>
      <td>0.0</td>
      <td>10</td>
      <td>1697</td>
      <td>[ΕΜ, ΦΥΣ, ΣΑΝ, ΤΑ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΑΚΑΤΣΧΕΤΟΣ</td>
      <td>27</td>
      <td>0.0</td>
      <td>10</td>
      <td>1697</td>
      <td>[Α, ΚΑΤ, ΣΧΕ, ΤΟΣ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΕΠΤΑΠΛΑΣΩΣ</td>
      <td>18</td>
      <td>0.0</td>
      <td>10</td>
      <td>1697</td>
      <td>[Ε, ΠΤΑ, ΠΛΑ, ΣΩΣ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΠΑΡΑΙΤΣΕΩΣ</td>
      <td>25</td>
      <td>0.0</td>
      <td>10</td>
      <td>1697</td>
      <td>[ΠΑ, ΡΑΙΤ, ΣΕ, ΩΣ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΕΥΗΘΕΣΤΤΟΥ</td>
      <td>4</td>
      <td>0.0</td>
      <td>10</td>
      <td>1697</td>
      <td>[ΕΥ, Η, ΘΕΣΤ, ΤΟΥ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΥΦΙΖΝΟΥΣΙΝ</td>
      <td>3</td>
      <td>0.0</td>
      <td>10</td>
      <td>1697</td>
      <td>[Υ, ΦΙΖ, ΝΟΥ, ΣΙΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΚΑΤΑΨΥΞΕΙΣ</td>
      <td>9</td>
      <td>0.0</td>
      <td>10</td>
      <td>1697</td>
      <td>[ΚΑ, ΤΑ, ΨΥ, ΞΕΙΣ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΠΑΡΕΣΤΩΣΑΙ</td>
      <td>2</td>
      <td>0.0</td>
      <td>10</td>
      <td>1697</td>
      <td>[ΠΑ, ΡΕ, ΣΤΩ, ΣΑΙ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΔΙΕΣΤΗΚΤΩΝ</td>
      <td>92</td>
      <td>0.0</td>
      <td>10</td>
      <td>1697</td>
      <td>[ΔΙ, Ε, ΣΤΗ, ΚΤΩΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΠΑΧΥΤΕΡΑΙΣ</td>
      <td>8</td>
      <td>0.0</td>
      <td>10</td>
      <td>1697</td>
      <td>[ΠΑ, ΧΥ, ΤΕ, ΡΑΙΣ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΡΑΒΔΟΦΟΡΩΝ</td>
      <td>3</td>
      <td>0.0</td>
      <td>10</td>
      <td>1697</td>
      <td>[ΡΑ, ΒΔΟ, ΦΟ, ΡΩΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΛΙΒΥΣΣΕΩΝ</td>
      <td>2</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΛΙ, ΒΥΣ, ΣΕ, ΩΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΣΤΕΝΩΜΑΤΑ</td>
      <td>8</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΣΤΕ, ΝΩ, ΜΑ, ΤΑ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΑΛΕΦΩΝΤΑΙ</td>
      <td>2</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[Α, ΛΕ, ΦΩΝ, ΤΑΙ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΑΝΑΝΨΩΜΕΝ</td>
      <td>4</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[Α, ΝΑΝ, ΨΩ, ΜΕΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΛΗΛΥΘΟΤΩΝ</td>
      <td>3</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΛΗ, ΛΥ, ΘΟ, ΤΩΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΑΛΕΙΦΑΤΩΝ</td>
      <td>2</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[Α, ΛΕΙ, ΦΑ, ΤΩΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΑΦΕΛΩΝΤΑΙ</td>
      <td>20</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[Α, ΦΕ, ΛΩΝ, ΤΑΙ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΙΣΤΟΡΗΣΘΩ</td>
      <td>9</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[Ι, ΣΤΟ, ΡΗ, ΣΘΩ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΑΜΦΕΚΑΛΥΨ</td>
      <td>1</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΑΜ, ΦΕ, ΚΑ, ΛΥΨ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΣΥΝΩΚΙΣΘΗ</td>
      <td>19</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΣΥ, ΝΩ, ΚΙ, ΣΘΗ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΠΑΡΑΧΩΡΕΙ</td>
      <td>130</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΠΑ, ΡΑ, ΧΩ, ΡΕΙ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΧΩΣΑΜΕΝΑ</td>
      <td>1</td>
      <td>0.0</td>
      <td>8</td>
      <td>1697</td>
      <td>[ΧΩ, ΣΑ, ΜΕ, ΝΑ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΑΝΕΜΦΑΤΩ</td>
      <td>1</td>
      <td>0.0</td>
      <td>8</td>
      <td>1697</td>
      <td>[Α, ΝΕΜ, ΦΑ, ΤΩ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΦΟΒΗΘΗΤΩ</td>
      <td>5</td>
      <td>0.0</td>
      <td>8</td>
      <td>1697</td>
      <td>[ΦΟ, ΒΗ, ΘΗ, ΤΩ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΗΝΩΧΛΗΣΑ</td>
      <td>1</td>
      <td>0.0</td>
      <td>8</td>
      <td>1697</td>
      <td>[Η, ΝΩ, ΧΛΗ, ΣΑ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΠΥΡΕΤΩΔΗ</td>
      <td>6</td>
      <td>0.0</td>
      <td>8</td>
      <td>1697</td>
      <td>[ΠΥ, ΡΕ, ΤΩ, ΔΗ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΦΩΤΟΕΙΔΗ</td>
      <td>28</td>
      <td>0.0</td>
      <td>8</td>
      <td>1697</td>
      <td>[ΦΩ, ΤΟ, ΕΙ, ΔΗ]</td>
      <td>4</td>
    </tr>
  </tbody>
</table>



But this was just for the experiment. I will stick on the more strict parameters in the following riddle solver.

#### Custom syllable filter

There is still two other criterias for the word filter. One of them is a bit more complicated. Poem says that there are two letters in the first three syllables. And the rest of the letters, that is three, are in the last syllable. I don't need to specify the last syllable letter count because I already limit total letter count to nine. If the first three syllables contain two letters, that is six in total, then the last must have the rest of the three letters.

The fifth column has appropriate syllable information that I can use for this kind of filter. Let's see the result with this and all the previous filters:


```python
c = df.copy()
c = c[c[4] == 1697]
c = c[c[6] == 4]
c = c[c[3] == 9]
# the first three of the syllable contain two letters, the last one the rest i.e. three.
c = c[c.apply(lambda x: len(x[5][0]) == 2 and len(x[5][1]) == 2 and len(x[5][2]) == 2, axis=1)]

print("Total records: %s" % len(c))
HTML(c.sort_values(0).to_html(index=False))
```

    Total records: 4
    




<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ΑΜΦΕΚΑΛΥΨ</td>
      <td>1</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΑΜ, ΦΕ, ΚΑ, ΛΥΨ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΛΗΛΥΘΟΤΩΝ</td>
      <td>3</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΛΗ, ΛΥ, ΘΟ, ΤΩΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΠΑΡΑΧΩΡΕΙ</td>
      <td>130</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΠΑ, ΡΑ, ΧΩ, ΡΕΙ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΣΥΝΩΚΙΣΘΗ</td>
      <td>19</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΣΥ, ΝΩ, ΚΙ, ΣΘΗ]</td>
      <td>4</td>
    </tr>
  </tbody>
</table>



That is a pretty narrow result already, just handful items to analyse.

#### Consonant filter

Finally there is the rule of five consonants (mutes/males) in the word in the original riddle. That requires defining the consonants list and checking that the total count of the consonants is exactly five, no more, no less. I will do an exercise to filter all words having 4 syllables and 5 consonants.


```python
d = df.copy()
d = d[d[4] == 1697]
d = d[d[6] == 4]
d = d[d[3] == 9]
d = d[d.apply(lambda x: sum(list(x[0].count(c) for c in "ΨΖΞΒΦΧΘΓΔΜΛΚΠΡΣΤ")) == 5, axis=1)]

print("Total records: %s" % len(d))
HTML(d.sort_values(0).to_html(index=False))
```

    Total records: 2
    




<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ΑΜΦΕΚΑΛΥΨ</td>
      <td>1</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΑΜ, ΦΕ, ΚΑ, ΛΥΨ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΙΣΤΟΡΗΣΘΩ</td>
      <td>9</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[Ι, ΣΤΟ, ΡΗ, ΣΘΩ]</td>
      <td>4</td>
    </tr>
  </tbody>
</table>



Let's refactor all of this and the previous ones to the single callable function with reusable sub functions and apply it to dataframe


```python
# the word should have n mutes ie consonants
consonants = "ΨΖΞΒΦΧΘΓΔΜΛΚΠΡΣΤΝϹϚϠϞ"
def nmutes(x, n):
    word, tot = x[0], 0
    for c in consonants:
        tot += word.count(c)
        if tot > n:
            return False
    return tot == n

# the word should have n vowels
vowels = "ϒΩΗΥΕΙΟΑ"
def nvowels(x, n):
    word, tot = x[0], 0
    for c in vowels:
        tot += word.count(c)
        if tot > n:
            return False
    return tot == n

# the word should have n syllables
def nsyllables(x, n):
    return x[6] == n

# the word should have two letters in the first three syllables, and the rest (3) letters in the last
def has_two_letters_in_first_three_syllables(x):
    return len(x[5][0]) == 2 and len(x[5][1]) == 2 and len(x[5][2]) == 2

# this makes n letters in total
def nletters(x, n):
    return x[3] == n

# isopsephical value
def nisopsephy(x, n):
    return x[4] > n[0] and x[4] < n[1] if type(n) is list else x[4] == n

# riddle 1 wrapper function
def riddle1(x, isopsephy, letters = 9, mutes = 5, syllables = 4):
    return nisopsephy(x, isopsephy) and nsyllables(x, syllables) and \
           nletters(x, letters) and nmutes(x, mutes) and \
           has_two_letters_in_first_three_syllables(x)
```


```python
# solve the riddle 1a
e = df.copy()
e = e[e.apply(lambda x: riddle1(x, 1697), axis=1)]
HTML(e.to_html(index=False))
```




<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ΑΜΦΕΚΑΛΥΨ</td>
      <td>1</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΑΜ, ΦΕ, ΚΑ, ΛΥΨ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΣΥΝΩΚΙΣΘΗ</td>
      <td>19</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΣΥ, ΝΩ, ΚΙ, ΣΘΗ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΛΗΛΥΘΟΤΩΝ</td>
      <td>3</td>
      <td>0.0</td>
      <td>9</td>
      <td>1697</td>
      <td>[ΛΗ, ΛΥ, ΘΟ, ΤΩΝ]</td>
      <td>4</td>
    </tr>
  </tbody>
</table>



Thus we have found three good matches for the riddle: ΑΜΦΕΚΑΛΥΨ, ΣΥΝΩΚΙΣΘΗ, and ΛΗΛΥΘΟΤΩΝ. From these, the word especially interesting is:

# ΑΜΦΕΚΑΛΥΨ

(amphekalyps / amfecalyps) meaning "covering from both sides" or "all around covering".

Next we should make some text and linquistic examination, how well these proposed words fits to the immediate context of the sibylline verses. Where are the exact occurrences of the word in the Greek corpora, in which context? Is it a word suitable for an epithet, does it have any religious spiritual significance, and so forth. These questions I will leave for the [further study](Study of the results of the isopsephical riddle solver.ipynb) of the words.

From the references of the riddle in the ancient greek and latin texts, there are some other interpretations of the isopsephic value given in the text. Instead of reading it 1697, it could be 1696, 1692, 1937, 1496, or even 506. Having factored procedure in a function, that takes isopsephic value as a parameter, I can make searches altering the value and see the results for comparison and inspection.

#### Variation 1696


```python
# solve the riddle 1b
f = df.copy()
f = f[f.apply(lambda x: riddle1(x, 1696), axis=1)]

print("Total records: %s" % len(f))
HTML(f.sort_values(0).to_html(index=False))
```

    Total records: 5
    




<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ΑΜΠΕΧΟΝΩΝ</td>
      <td>3</td>
      <td>0.0</td>
      <td>9</td>
      <td>1696</td>
      <td>[ΑΜ, ΠΕ, ΧΟ, ΝΩΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΔΥΝΑΜΩΣΑΣ</td>
      <td>4</td>
      <td>0.0</td>
      <td>9</td>
      <td>1696</td>
      <td>[ΔΥ, ΝΑ, ΜΩ, ΣΑΣ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΚΑΤΕΡΥΚΩΝ</td>
      <td>1</td>
      <td>0.0</td>
      <td>9</td>
      <td>1696</td>
      <td>[ΚΑ, ΤΕ, ΡΥ, ΚΩΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΚΕΝΟΦΩΝΑΣ</td>
      <td>47</td>
      <td>0.0</td>
      <td>9</td>
      <td>1696</td>
      <td>[ΚΕ, ΝΟ, ΦΩ, ΝΑΣ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΠΕΡΙΧΑΝΩΝ</td>
      <td>7</td>
      <td>0.0</td>
      <td>9</td>
      <td>1696</td>
      <td>[ΠΕ, ΡΙ, ΧΑ, ΝΩΝ]</td>
      <td>4</td>
    </tr>
  </tbody>
</table>



#### Variation 1692


```python
# solve the riddle 1b
f = df.copy()
f = f[f.apply(lambda x: riddle1(x, 1692), axis=1)]

print("Total records: %s" % len(f))
HTML(f.sort_values(0).to_html(index=False))
```

    Total records: 4
    




<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ΑΝΤΩΝΥΜΑΝ</td>
      <td>22</td>
      <td>0.0</td>
      <td>9</td>
      <td>1692</td>
      <td>[ΑΝ, ΤΩ, ΝΥ, ΜΑΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΚΑΤΑΨΥΞΙΣ</td>
      <td>22</td>
      <td>0.0</td>
      <td>9</td>
      <td>1692</td>
      <td>[ΚΑ, ΤΑ, ΨΥ, ΞΙΣ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΠΑΡΩΞΥΝΑΣ</td>
      <td>9</td>
      <td>0.0</td>
      <td>9</td>
      <td>1692</td>
      <td>[ΠΑ, ΡΩ, ΞΥ, ΝΑΣ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΠΟΛΥΔΩΡΗΣ</td>
      <td>4</td>
      <td>0.0</td>
      <td>9</td>
      <td>1692</td>
      <td>[ΠΟ, ΛΥ, ΔΩ, ΡΗΣ]</td>
      <td>4</td>
    </tr>
  </tbody>
</table>



#### Variation 1937


```python
# solve the riddle 1b
f = df.copy()
f = f[f.apply(lambda x: riddle1(x, 1937), axis=1)]

print("Total records: %s" % len(f))
HTML(f.sort_values(0).to_html(index=False))
```

    Total records: 1
    




<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ΔΗΛΩΣΩΜΕΝ</td>
      <td>1</td>
      <td>0.0</td>
      <td>9</td>
      <td>1937</td>
      <td>[ΔΗ, ΛΩ, ΣΩ, ΜΕΝ]</td>
      <td>4</td>
    </tr>
  </tbody>
</table>



#### Variation 1496


```python
# solve the riddle 1c
f = df.copy()
f = f[f.apply(lambda x: riddle1(x, 1496), axis=1)]

print("Total records: %s" % len(f))
HTML(f.sort_values(0).to_html(index=False))
```

    Total records: 10
    




<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ΑΜΤΕΛΩΝΟΣ</td>
      <td>4</td>
      <td>0.0</td>
      <td>9</td>
      <td>1496</td>
      <td>[ΑΜ, ΤΕ, ΛΩ, ΝΟΣ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΚΕΚΩΛΥΚΑΣ</td>
      <td>9</td>
      <td>0.0</td>
      <td>9</td>
      <td>1496</td>
      <td>[ΚΕ, ΚΩ, ΛΥ, ΚΑΣ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΠΑΡΩΤΙΔΑΣ</td>
      <td>17</td>
      <td>0.0</td>
      <td>9</td>
      <td>1496</td>
      <td>[ΠΑ, ΡΩ, ΤΙ, ΔΑΣ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΠΕΝΙΩΝΤΑΣ</td>
      <td>3</td>
      <td>0.0</td>
      <td>9</td>
      <td>1496</td>
      <td>[ΠΕ, ΝΙ, ΩΝ, ΤΑΣ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΠΙΝΕΤΩΣΑΝ</td>
      <td>17</td>
      <td>0.0</td>
      <td>9</td>
      <td>1496</td>
      <td>[ΠΙ, ΝΕ, ΤΩ, ΣΑΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΣΥΝΕΚΟΨΑΝ</td>
      <td>4</td>
      <td>0.0</td>
      <td>9</td>
      <td>1496</td>
      <td>[ΣΥ, ΝΕ, ΚΟ, ΨΑΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΣΩΡΗΤΙΚΗΝ</td>
      <td>2</td>
      <td>0.0</td>
      <td>9</td>
      <td>1496</td>
      <td>[ΣΩ, ΡΗ, ΤΙ, ΚΗΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΤΑΠΕΝΩΣΙΝ</td>
      <td>108</td>
      <td>0.0</td>
      <td>9</td>
      <td>1496</td>
      <td>[ΤΑ, ΠΕ, ΝΩ, ΣΙΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΤΕΛΑΜΩΝΟΣ</td>
      <td>175</td>
      <td>0.0</td>
      <td>9</td>
      <td>1496</td>
      <td>[ΤΕ, ΛΑ, ΜΩ, ΝΟΣ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΦΑΛΑΡΙΔΩΝ</td>
      <td>1</td>
      <td>0.0</td>
      <td>9</td>
      <td>1496</td>
      <td>[ΦΑ, ΛΑ, ΡΙ, ΔΩΝ]</td>
      <td>4</td>
    </tr>
  </tbody>
</table>



#### Variation 506


```python
# solve the riddle 1b
f = df.copy()
f = f[f.apply(lambda x: riddle1(x, 506), axis=1)]

print("Total records: %s" % len(f))
HTML(f.sort_values(0).to_html(index=False))
```

    Total records: 9
    




<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ΑΝΤΕΛΕΞΕΝ</td>
      <td>2</td>
      <td>0.00</td>
      <td>9</td>
      <td>506</td>
      <td>[ΑΝ, ΤΕ, ΛΕ, ΞΕΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΑΡΣΕΝΙΚΟΝ</td>
      <td>528</td>
      <td>0.01</td>
      <td>9</td>
      <td>506</td>
      <td>[ΑΡ, ΣΕ, ΝΙ, ΚΟΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΑΡΤΙΓΑΛΑΞ</td>
      <td>3</td>
      <td>0.00</td>
      <td>9</td>
      <td>506</td>
      <td>[ΑΡ, ΤΙ, ΓΑ, ΛΑΞ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΕΓΓΙΖΟΣΗΣ</td>
      <td>9</td>
      <td>0.00</td>
      <td>9</td>
      <td>506</td>
      <td>[ΕΓ, ΓΙ, ΖΟ, ΣΗΣ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΕΓΓΥΘΗΚΗΝ</td>
      <td>1</td>
      <td>0.00</td>
      <td>9</td>
      <td>506</td>
      <td>[ΕΓ, ΓΥ, ΘΗ, ΚΗΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΘΗΡΑΤΙΚΗΝ</td>
      <td>2</td>
      <td>0.00</td>
      <td>9</td>
      <td>506</td>
      <td>[ΘΗ, ΡΑ, ΤΙ, ΚΗΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΜΕΤΑΒΟΛΗΝ</td>
      <td>2557</td>
      <td>0.03</td>
      <td>9</td>
      <td>506</td>
      <td>[ΜΕ, ΤΑ, ΒΟ, ΛΗΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΠΕΠΗΓΟΣΙΝ</td>
      <td>1</td>
      <td>0.00</td>
      <td>9</td>
      <td>506</td>
      <td>[ΠΕ, ΠΗ, ΓΟ, ΣΙΝ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΠΙΝΟΜΕΝΑΣ</td>
      <td>4</td>
      <td>0.00</td>
      <td>9</td>
      <td>506</td>
      <td>[ΠΙ, ΝΟ, ΜΕ, ΝΑΣ]</td>
      <td>4</td>
    </tr>
  </tbody>
</table>



### Riddle 2

<blockquote>
And he doth hear four vowels, and two consonants in him are twice announced; the whole sum I will  name: for eight ones, and as many tens on these, and yet eight hundred will reveal the name to men insatiate;
</blockquote>

The solution of this riddle has been known for isopsephists from the early centuries of Christian fathers. Iraneus and Hippothylus (see "The Greek Qabalah: Alphabetical Mysticism and Numerology in the Ancient World" by Kieren Barry, page 138) commented about the Marcusian Ogdoad (888), former Father with a very colourful language in a [heated word war](https://chs.harvard.edu/CHS/article/display/6308) between gnostic and orthodox theology. It was known that the number 888 referred to ΙΗΣΟΥΣ (Jesus).

So what I'm doing here is to check how well does the programmical approach to solving this type of riddle really work:


```python
# riddle 2 wrapper function
def riddle2a(x, isopsephy, mutes = 2, vowels = 4):
    return nisopsephy(x, isopsephy) and \
           nletters(x, mutes+vowels) and \
           nvowels(x, vowels) and \
           nmutes(x, mutes)

# solve the riddle 2a
h = df.copy()
h = h[h.apply(lambda x: riddle2a(x, 888), axis=1)]

print("Total records: %s" % len(h))
HTML(h.sort_values(0).to_html(index=False))
```

    Total records: 6
    




<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ΑΞΙΩΘΗ</td>
      <td>18</td>
      <td>0.00</td>
      <td>6</td>
      <td>888</td>
      <td>[Α, ΞΙ, Ω, ΘΗ]</td>
      <td>4</td>
    </tr>
    <tr>
      <td>ΙΗΣΟΥΣ</td>
      <td>6128</td>
      <td>0.08</td>
      <td>6</td>
      <td>888</td>
      <td>[Ι, Η, ΣΟΥΣ]</td>
      <td>3</td>
    </tr>
    <tr>
      <td>ΙΗΤΡΟΥ</td>
      <td>80</td>
      <td>0.00</td>
      <td>6</td>
      <td>888</td>
      <td>[Ι, Η, ΤΡΟΥ]</td>
      <td>3</td>
    </tr>
    <tr>
      <td>ΙΟΥΣΗΣ</td>
      <td>57</td>
      <td>0.00</td>
      <td>6</td>
      <td>888</td>
      <td>[Ι, ΟΥ, ΣΗΣ]</td>
      <td>3</td>
    </tr>
    <tr>
      <td>ΟΥΣΙΗΣ</td>
      <td>3</td>
      <td>0.00</td>
      <td>6</td>
      <td>888</td>
      <td>[ΟΥ, ΣΙ, ΗΣ]</td>
      <td>3</td>
    </tr>
    <tr>
      <td>ΤΗΡΙΟΥ</td>
      <td>11</td>
      <td>0.00</td>
      <td>6</td>
      <td>888</td>
      <td>[ΤΗ, ΡΙ, ΟΥ]</td>
      <td>3</td>
    </tr>
  </tbody>
</table>



__The Number of the Beast__

I can't resist of using this solver for the most well known riddle, the infamous Number of the Beast, 666. It is just a matter of a parameter that we can put on the riddle solver and see, how many Greek word candidates there are. Worth of noting is, that in the original puzzle, where the wisdom and ability to calculate is asked, only the isopsephic value is given and that it should be the name of a human (or man in general). Revelation 13:18 (Textus Receptus):

<blockquote>
ωδε η σοφια εστιν ο εχων τον νουν ψηφισατω τον αριθμον του θηριου αριθμος γαρ ανθρωπου εστιν και ο αριθμος αυτου χξς 
</blockquote>

Translation (King James, 1611):

<blockquote>
Here is wisdom. Let him that hath understanding count the number of the beast: for it is the number of a man; and his number is Six hundred threescore and six.
</blockquote>


```python
# riddle 2b wrapper function
def riddle2b(x, isopsephy, letters = 0):
    return nisopsephy(x, isopsephy) and (nletters(x, letters) if letters else True)

# solve the riddle 2b
i = df.copy()
i = i[i.apply(lambda x: riddle2b(x, 666), axis=1)]

print("Total records: %s" % len(i))
HTML(i.sort_values(0).to_html(index=False))
```

    Total records: 592
    




<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ΑΒΔΗΡΙΤΙΚΑΙΣ</td>
      <td>2</td>
      <td>0.00</td>
      <td>12</td>
      <td>666</td>
      <td>[Α, ΒΔΗ, ΡΙ, ΤΙ, ΚΑΙΣ]</td>
      <td>5</td>
    </tr>
    <tr>
      <td>ΑΓΝΤΑΤΑΙ</td>
      <td>3</td>
      <td>0.00</td>
      <td>8</td>
      <td>666</td>
      <td>[ΑΓΝ, ΤΑ, ΤΑΙ]</td>
      <td>3</td>
    </tr>
    <tr>
      <td>ΑΔΜΑΝΤΟΣ</td>
      <td>78</td>
      <td>0.00</td>
      <td>8</td>
      <td>666</td>
      <td>[ΑΔ, ΜΑΝ, ΤΟΣ]</td>
      <td>3</td>
    </tr>
  </tbody>
</table>



Apparent problem is there are too many results for easy examination. On the other hand, one can pick up interesting words from the list nevertheless like: `ΑΡΣΕΝΙΚΟΙΣ`, `ΙΑΠΕΤΟΣ`, `ΛΑΤΕΙΝΟΣ`, and `ΤΕΙΤΑΝ` of cource.

In some old papyrus and texts of early Christian fathers we find that `χξς` is written as 616 rather than 666. So we could see, what are the words meeting this value:


```python
# solve the riddle 2c
i = df.copy()
i = i[i.apply(lambda x: riddle2b(x, 616), axis=1)]

print("Total records: %s" % len(i))
```

    Total records: 611
    

611 words to analyze!

### Riddle 3

<blockquote>
And three times three hundred and eight and forty shalt thou make complete.
</blockquote>

This is also an example what happens if there are not enough parameters for the filter algorithm. In the original riddle it is interesting that the name _Rome_ is already mentioned before and after the isopsephical hint. This might be a useful notice however, if the riddle maker didn't want to make puzzle too hard to solve, but gave enough clues for the problem in a very near by context.


```python
# riddle 3 wrapper function
def riddle3(x, isopsephy):
    return nisopsephy(x, isopsephy)

# solve the riddle 3a
j = df.copy()
j = j[j.apply(lambda x: riddle3(x, 948), axis=1)]

print("Total records: %s" % len(j))
```

    Total records: 495
    


```python
HTML(j.sort_values(3).head(6).to_html(index=False))
```




<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ΡΗΜΩ</td>
      <td>2</td>
      <td>0.00</td>
      <td>4</td>
      <td>948</td>
      <td>[ΡΗ, ΜΩ]</td>
      <td>2</td>
    </tr>
    <tr>
      <td>ΜΗΡΩ</td>
      <td>296</td>
      <td>0.00</td>
      <td>4</td>
      <td>948</td>
      <td>[ΜΗ, ΡΩ]</td>
      <td>2</td>
    </tr>
    <tr>
      <td>ΩΡΜΗ</td>
      <td>13</td>
      <td>0.00</td>
      <td>4</td>
      <td>948</td>
      <td>[ΩΡ, ΜΗ]</td>
      <td>2</td>
    </tr>
    <tr>
      <td>ΗΜΡΩ</td>
      <td>31</td>
      <td>0.00</td>
      <td>4</td>
      <td>948</td>
      <td>[ΗΜ, ΡΩ]</td>
      <td>2</td>
    </tr>
    <tr>
      <td>ΡΩΜΗ</td>
      <td>1891</td>
      <td>0.03</td>
      <td>4</td>
      <td>948</td>
      <td>[ΡΩ, ΜΗ]</td>
      <td>2</td>
    </tr>
    <tr>
      <td>ΜΩΡΗ</td>
      <td>9</td>
      <td>0.00</td>
      <td>4</td>
      <td>948</td>
      <td>[ΜΩ, ΡΗ]</td>
      <td>2</td>
    </tr>
  </tbody>
</table>



Thus, the word for Rome `ΡΩΜΗ` meets the criteria of being having isopsephic value 948. It is repeated 1891 times in the Greek corpora but would have been very difficult to spot from the 495 different words if we didn't know what to search for.

## The [MIT](http://choosealicense.com/licenses/mit/) License

Copyright &copy; 2018 Marko Manninen

